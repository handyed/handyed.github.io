<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Vertical Flipbook - Cu Efect de Răsfoire Îmbunătățit</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background: #e0e0e0;
      font-family: sans-serif;
    }
    .flipbook {
      perspective: 2000px;
      height: 100vh;
      position: relative;
      overflow: hidden;
    }
    .page {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      transform-origin: top center;
      transition: transform 0.8s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      visibility: hidden;
    }
    .page img {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
    }
    .page-number {
      position: absolute;
      bottom: 20px;
      font-size: 16px;
      color: #333;
    }
    .visible {
      visibility: visible;
    }
    .current {
      z-index: 2;
      transform: rotateX(0deg);
    }
    .next {
      z-index: 1;
      transform: rotateX(0deg);
    }
    .flipping-forward {
      animation: flipForwardAnimation 1s forwards;
    }
    .flipping-backward {
      animation: flipBackwardAnimation 1s forwards;
    }
    @keyframes flipForwardAnimation {
      0% { transform: rotateX(0deg); z-index: 2; }
      50% { transform: rotateX(-90deg); z-index: 2; }
      51% { z-index: 0; }
      100% { transform: rotateX(-180deg); z-index: 0; }
    }
    @keyframes flipBackwardAnimation {
      0% { transform: rotateX(-180deg); z-index: 0; }
      50% { transform: rotateX(-90deg); z-index: 0; }
      51% { z-index: 2; }
      100% { transform: rotateX(0deg); z-index: 2; }
    }
    .buttons {
      position: absolute;
      bottom: 20px;
      width: 100%;
      display: flex;
      justify-content: center;
      gap: 20px;
      z-index: 10;
    }
    .flip-button {
      padding: 10px 20px;
      background: #333;
      color: white;
      border: none;
      font-size: 18px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .flip-button:hover {
      background: #555;
    }
    .flip-button:disabled {
      background: #999;
      cursor: not-allowed;
    }
    .page-indicator {
      position: absolute;
      bottom: 70px;
      width: 100%;
      text-align: center;
      font-size: 16px;
      color: #333;
      z-index: 10;
    }
  </style>
</head>
<body>

<div class="flipbook" id="flipbook">
  <!-- Paginile vor fi adăugate dinamic prin JavaScript -->
  
  <div class="page-indicator">Pagina <span id="currentPage">1</span> din <span id="totalPages">5</span></div>
  
  <div class="buttons">
    <button class="flip-button" id="prevButton" onclick="flipBack()" disabled>Pagina Anterioară</button>
    <button class="flip-button" id="nextButton" onclick="flipForward()">Pagina Următoare</button>
  </div>
</div>

<script>
  // Definim sursele imaginilor (înlocuiește cu căile către imaginile tale)
  const images = [
    '/img/team-2.jpg',
    '/img/team-3.jpg',
    '/img/team-1.jpg',
    
  ];
  
  let isFlipping = false;
  let currentPage = 0;
  const totalPages = images.length;
  
  const flipbook = document.getElementById('flipbook');
  const prevButton = document.getElementById('prevButton');
  const nextButton = document.getElementById('nextButton');
  const currentPageSpan = document.getElementById('currentPage');
  const totalPagesSpan = document.getElementById('totalPages');
  
  // Actualizăm numărul total de pagini
  totalPagesSpan.textContent = totalPages;
  
  // Creare pagini
  function createPages() {
    images.forEach((src, index) => {
      const page = document.createElement('div');
      page.className = 'page';
      
      if (index === 0) {
        page.classList.add('current', 'visible');
      } else if (index === 1) {
        page.classList.add('next', 'visible');
      }
      
      const img = document.createElement('img');
      img.src = src;
      img.alt = `Pagina ${index + 1}`;
      
      const pageNumber = document.createElement('div');
      pageNumber.className = 'page-number';
      pageNumber.textContent = `${index + 1}`;
      
      page.appendChild(img);
      page.appendChild(pageNumber);
      flipbook.appendChild(page);
    });
  }
  
  // Funcția pentru a merge la pagina următoare
  function flipForward() {
    if (isFlipping || currentPage >= totalPages - 1) return;
    
    isFlipping = true;
    const pages = document.querySelectorAll('.page');
    
    // Ascundem toate paginile în afară de cea curentă și următoarea
    pages.forEach((page, index) => {
      if (index === currentPage || index === currentPage + 1) {
        page.classList.add('visible');
      } else {
        page.classList.remove('visible');
      }
    });
    
    // Animăm pagina curentă
    pages[currentPage].classList.add('flipping-forward');
    
    // Așteptăm finalizarea animației
    setTimeout(() => {
      pages[currentPage].classList.remove('current', 'flipping-forward');
      currentPage++;
      
      // Actualizăm clasele
      pages[currentPage].classList.add('current');
      
      // Facem vizibilă următoarea pagină dacă există
      if (currentPage < totalPages - 1) {
        pages[currentPage + 1].classList.add('next', 'visible');
      }
      
      // Actualizăm starea paginii
      updatePageState();
      isFlipping = false;
    }, 900);
  }
  
  // Funcția pentru a merge la pagina anterioară
  function flipBack() {
    if (isFlipping || currentPage <= 0) return;
    
    isFlipping = true;
    const pages = document.querySelectorAll('.page');
    
    // Ascundem toate paginile în afară de cea curentă și cea anterioară
    pages.forEach((page, index) => {
      if (index === currentPage || index === currentPage - 1) {
        page.classList.add('visible');
      } else {
        page.classList.remove('visible');
      }
    });
    
    // Pregătim pagina anterioară pentru animație
    pages[currentPage - 1].style.transform = 'rotateX(-180deg)';
    pages[currentPage - 1].classList.add('visible');
    
    // Forțăm un reflow pentru a aplica transformarea inițială
    void pages[currentPage - 1].offsetWidth;
    
    // Începem animația
    pages[currentPage - 1].classList.add('flipping-backward');
    
    // Așteptăm finalizarea animației
    setTimeout(() => {
      pages[currentPage].classList.remove('current');
      pages[currentPage - 1].classList.remove('flipping-backward');
      pages[currentPage - 1].style.transform = '';
      pages[currentPage - 1].classList.add('current');
      
      currentPage--;
      
      // Actualizăm vizibilitatea paginii anterioare
      if (currentPage > 0) {
        pages[currentPage - 1].classList.add('visible');
      }
      
      // Actualizăm starea paginii
      updatePageState();
      isFlipping = false;
    }, 900);
  }
  
  // Actualizăm indicatorul de pagină și starea butoanelor
  function updatePageState() {
    currentPageSpan.textContent = currentPage + 1;
    
    // Actualizăm starea butoanelor
    prevButton.disabled = currentPage === 0;
    nextButton.disabled = currentPage === totalPages - 1;
  }
  
  // Inițializăm paginile la încărcarea paginii
  window.onload = function() {
    createPages();
    updatePageState();
  };
  
  // Adăugăm suport pentru tastatura (opțional)
  document.addEventListener('keydown', function(event) {
    if (event.key === 'ArrowUp' || event.key === 'ArrowRight') {
      flipForward();
    } else if (event.key === 'ArrowDown' || event.key === 'ArrowLeft') {
      flipBack();
    }
  });
</script>

</body>
</html>